import { SSISComponent, Connection } from './types';

export interface Template {
    id: string;
    name: string;
    description: string;
    difficulty: 'Beginner' | 'Intermediate' | 'Advanced';
    category?: 'Healthcare' | 'Finance' | 'E-commerce' | 'Advanced Patterns' | 'Data Quality' | 'Integration' | 'Real-time' | 'General';
    industry?: string;
    useCase?: string;
    tags?: string[];
    components: SSISComponent[];
    connections: Connection[];
}

export const TEMPLATES: Template[] = [
    {
        id: 'basic-etl',
        name: 'Basic ETL: Database to CSV',
        description: 'Extract data from SQL Server, transform with Data Conversion, load to Flat File',
        difficulty: 'Beginner',
        components: [
            {
                id: 'template1-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'OLE DB Source',
                icon: '',
                description: 'Reads data from SQL Server, Oracle, or OLE DB compliant databases.',
                useCases: ['Reading from SQL tables', 'Executing SQL queries'],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn1'],
                hasError: false
            },
            {
                id: 'template1-transform',
                type: 'transformation',
                category: 'DataConversion',
                name: 'Data Conversion',
                icon: '',
                description: 'Converts data from one type to another.',
                useCases: ['Fixing type mismatches', 'Converting text to numbers'],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['conn1'],
                outputs: ['conn2'],
                hasError: false
            },
            {
                id: 'template1-dest',
                type: 'destination',
                category: 'FlatFileDestination',
                name: 'Flat File Destination',
                icon: '',
                description: 'Writes data to a text file (CSV, TXT).',
                useCases: ['Generating reports', 'Exporting for other systems'],
                dataType: 'text',
                position: { x: 700, y: 200 },
                inputs: ['conn2'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            {
                id: 'conn1',
                source: 'template1-source',
                target: 'template1-transform',
                isValid: true
            },
            {
                id: 'conn2',
                source: 'template1-transform',
                target: 'template1-dest',
                isValid: true
            }
        ]
    },
    {
        id: 'merge-join',
        name: 'Merge Two Sorted Datasets',
        description: 'Demonstrates Merge Join with two sorted inputs',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template2-source1',
                type: 'source',
                category: 'OLEDBSource',
                name: 'OLE DB Source 1',
                icon: '',
                description: 'First data source',
                useCases: [],
                dataType: 'structured',
                position: { x: 50, y: 100 },
                inputs: [],
                outputs: ['conn3'],
                hasError: false
            },
            {
                id: 'template2-sort1',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort 1',
                icon: '',
                description: 'Sorts input data by one or more columns.',
                useCases: ['Preparing for Merge Join', 'Ordering for reports'],
                dataType: 'structured',
                position: { x: 250, y: 100 },
                inputs: ['conn3'],
                outputs: ['conn5'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'template2-source2',
                type: 'source',
                category: 'OLEDBSource',
                name: 'OLE DB Source 2',
                icon: '',
                description: 'Second data source',
                useCases: [],
                dataType: 'structured',
                position: { x: 50, y: 300 },
                inputs: [],
                outputs: ['conn4'],
                hasError: false
            },
            {
                id: 'template2-sort2',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort 2',
                icon: '',
                description: 'Sorts input data by one or more columns.',
                useCases: [],
                dataType: 'structured',
                position: { x: 250, y: 300 },
                inputs: ['conn4'],
                outputs: ['conn6'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'template2-merge',
                type: 'transformation',
                category: 'MergeJoin',
                name: 'Merge Join',
                icon: '',
                description: 'Merges two sorted datasets using FULL, LEFT, or INNER join.',
                useCases: ['Joining large sorted datasets', 'Combining historical data'],
                dataType: 'structured',
                position: { x: 500, y: 200 },
                inputs: ['conn5', 'conn6'],
                outputs: ['conn7'],
                hasError: false
            },
            {
                id: 'template2-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'OLE DB Destination',
                icon: '',
                description: 'Writes data to a SQL Server or OLE DB database.',
                useCases: ['Loading data warehouse', 'Updating records'],
                dataType: 'structured',
                position: { x: 750, y: 200 },
                inputs: ['conn7'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn3', source: 'template2-source1', target: 'template2-sort1', isValid: true },
            { id: 'conn4', source: 'template2-source2', target: 'template2-sort2', isValid: true },
            { id: 'conn5', source: 'template2-sort1', target: 'template2-merge', isValid: true },
            { id: 'conn6', source: 'template2-sort2', target: 'template2-merge', isValid: true },
            { id: 'conn7', source: 'template2-merge', target: 'template2-dest', isValid: true }
        ]
    },
    {
        id: 'conditional-split',
        name: 'Conditional Routing',
        description: 'Route data to different destinations based on conditions',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template3-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'OLE DB Source',
                icon: '',
                description: 'Source data',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn8'],
                hasError: false
            },
            {
                id: 'template3-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Conditional Split',
                icon: '',
                description: 'Routes rows to different outputs based on conditions.',
                useCases: ['Separating bad data', 'Routing by region'],
                dataType: 'structured',
                position: { x: 350, y: 200 },
                inputs: ['conn8'],
                outputs: ['conn9', 'conn10'],
                hasError: false
            },
            {
                id: 'template3-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Valid Records',
                icon: '',
                description: 'Valid data destination',
                useCases: [],
                dataType: 'structured',
                position: { x: 600, y: 100 },
                inputs: ['conn9'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template3-dest2',
                type: 'destination',
                category: 'FlatFileDestination',
                name: 'Error Log',
                icon: '',
                description: 'Error records',
                useCases: [],
                dataType: 'text',
                position: { x: 600, y: 300 },
                inputs: ['conn10'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn8', source: 'template3-source', target: 'template3-split', isValid: true },
            { id: 'conn9', source: 'template3-split', target: 'template3-dest1', isValid: true },
            { id: 'conn10', source: 'template3-split', target: 'template3-dest2', isValid: true }
        ]
    },
    {
        id: 'union-all',
        name: 'Union Multiple Sources',
        description: 'Combine data from multiple similar sources into one output',
        difficulty: 'Beginner',
        components: [
            {
                id: 'template4-source1',
                type: 'source',
                category: 'FlatFileSource',
                name: 'January Data',
                icon: '',
                description: 'January CSV file',
                useCases: [],
                dataType: 'text',
                position: { x: 100, y: 100 },
                inputs: [],
                outputs: ['conn11'],
                hasError: false
            },
            {
                id: 'template4-source2',
                type: 'source',
                category: 'FlatFileSource',
                name: 'February Data',
                icon: '',
                description: 'February CSV file',
                useCases: [],
                dataType: 'text',
                position: { x: 100, y: 250 },
                inputs: [],
                outputs: ['conn12'],
                hasError: false
            },
            {
                id: 'template4-union',
                type: 'transformation',
                category: 'UnionAll',
                name: 'Union All',
                icon: '',
                description: 'Combines multiple inputs into a single output.',
                useCases: ['Merging monthly files', 'Combining similar datasets'],
                dataType: 'text',
                position: { x: 400, y: 175 },
                inputs: ['conn11', 'conn12'],
                outputs: ['conn13'],
                hasError: false
            },
            {
                id: 'template4-dest',
                type: 'destination',
                category: 'FlatFileDestination',
                name: 'Combined Output',
                icon: '',
                description: 'All months combined',
                useCases: [],
                dataType: 'text',
                position: { x: 650, y: 175 },
                inputs: ['conn13'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn11', source: 'template4-source1', target: 'template4-union', isValid: true },
            { id: 'conn12', source: 'template4-source2', target: 'template4-union', isValid: true },
            { id: 'conn13', source: 'template4-union', target: 'template4-dest', isValid: true }
        ]
    },
    {
        id: 'lookup-enrichment',
        name: 'Lookup and Enrichment',
        description: 'Enrich data by looking up values from reference table',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template5-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Transaction Data',
                icon: '',
                description: 'Main transaction data',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 150 },
                inputs: [],
                outputs: ['conn14'],
                hasError: false
            },
            {
                id: 'template5-ref',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Customer Reference',
                icon: '',
                description: 'Customer details lookup table',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 300 },
                inputs: [],
                outputs: ['conn15'],
                hasError: false
            },
            {
                id: 'template5-lookup',
                type: 'transformation',
                category: 'Lookup',
                name: 'Lookup Customer',
                icon: '',
                description: 'Joins data with a reference table.',
                useCases: ['Getting IDs from names', 'Validating codes'],
                dataType: 'structured',
                position: { x: 400, y: 150 },
                inputs: ['conn14', 'conn15'],
                outputs: ['conn16'],
                hasError: false,
                referenceInput: 'template5-ref'
            },
            {
                id: 'template5-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Enriched Data',
                icon: '',
                description: 'Data with customer details',
                useCases: [],
                dataType: 'structured',
                position: { x: 650, y: 150 },
                inputs: ['conn16'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn14', source: 'template5-source', target: 'template5-lookup', isValid: true },
            { id: 'conn15', source: 'template5-ref', target: 'template5-lookup', isValid: true },
            { id: 'conn16', source: 'template5-lookup', target: 'template5-dest', isValid: true }
        ]
    },
    {
        id: 'aggregation',
        name: 'Aggregation and Summary',
        description: 'Calculate totals, counts, and group by categories',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template6-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Sales Data',
                icon: '',
                description: 'Detailed sales transactions',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn17'],
                hasError: false
            },
            {
                id: 'template6-agg',
                type: 'transformation',
                category: 'Aggregate',
                name: 'Aggregate',
                icon: '',
                description: 'Aggregates values (Sum, Count, Avg) by group.',
                useCases: ['Daily totals', 'Counting records per category'],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['conn17'],
                outputs: ['conn18'],
                hasError: false
            },
            {
                id: 'template6-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Summary Table',
                icon: '',
                description: 'Aggregated summary data',
                useCases: [],
                dataType: 'structured',
                position: { x: 650, y: 200 },
                inputs: ['conn18'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn17', source: 'template6-source', target: 'template6-agg', isValid: true },
            { id: 'conn18', source: 'template6-agg', target: 'template6-dest', isValid: true }
        ]
    },
    {
        id: 'multicast',
        name: 'Multicast to Multiple Destinations',
        description: 'Send same data to multiple destinations simultaneously',
        difficulty: 'Beginner',
        components: [
            {
                id: 'template7-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Customer Data',
                icon: '',
                description: 'Customer information',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn19'],
                hasError: false
            },
            {
                id: 'template7-multicast',
                type: 'transformation',
                category: 'Multicast',
                name: 'Multicast',
                icon: '',
                description: 'Distributes every input row to every output.',
                useCases: ['Sending data to multiple destinations', 'Logging while processing'],
                dataType: 'structured',
                position: { x: 350, y: 200 },
                inputs: ['conn19'],
                outputs: ['conn20', 'conn21', 'conn22'],
                hasError: false
            },
            {
                id: 'template7-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Production DB',
                icon: '',
                description: 'Main database',
                useCases: [],
                dataType: 'structured',
                position: { x: 600, y: 80 },
                inputs: ['conn20'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template7-dest2',
                type: 'destination',
                category: 'FlatFileDestination',
                name: 'Archive File',
                icon: '',
                description: 'Backup archive',
                useCases: [],
                dataType: 'text',
                position: { x: 600, y: 200 },
                inputs: ['conn21'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template7-dest3',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Report Excel',
                icon: '',
                description: 'Excel report',
                useCases: [],
                dataType: 'mixed',
                position: { x: 600, y: 320 },
                inputs: ['conn22'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn19', source: 'template7-source', target: 'template7-multicast', isValid: true },
            { id: 'conn20', source: 'template7-multicast', target: 'template7-dest1', isValid: true },
            { id: 'conn21', source: 'template7-multicast', target: 'template7-dest2', isValid: true },
            { id: 'conn22', source: 'template7-multicast', target: 'template7-dest3', isValid: true }
        ]
    },
    {
        id: 'derived-column',
        name: 'Data Transformation',
        description: 'Create calculated columns and transform data',
        difficulty: 'Beginner',
        components: [
            {
                id: 'template8-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Employee Data',
                icon: '',
                description: 'Employee information',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn23'],
                hasError: false
            },
            {
                id: 'template8-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Derived Column',
                icon: '',
                description: 'Creates new column values using expressions.',
                useCases: ['Concatenating names', 'Calculating totals', 'Cleaning strings'],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['conn23'],
                outputs: ['conn24'],
                hasError: false
            },
            {
                id: 'template8-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Transformed Data',
                icon: '',
                description: 'Data with calculated columns',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['conn24'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn23', source: 'template8-source', target: 'template8-derived', isValid: true },
            { id: 'conn24', source: 'template8-derived', target: 'template8-dest', isValid: true }
        ]
    },
    {
        id: 'json-to-db',
        name: 'JSON to Database',
        description: 'Import nested JSON data, flatten, and load to database',
        difficulty: 'Advanced',
        components: [
            {
                id: 'template9-source',
                type: 'source',
                category: 'JSONSource',
                name: 'API Response',
                icon: '{ }',
                description: 'JSON data from API',
                useCases: [],
                dataType: 'nested',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn25'],
                hasError: false
            },
            {
                id: 'template9-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Flatten JSON',
                icon: '',
                description: 'Flatten nested structures',
                useCases: [],
                dataType: 'structured',
                position: { x: 350, y: 200 },
                inputs: ['conn25'],
                outputs: ['conn26'],
                hasError: false
            },
            {
                id: 'template9-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Database Table',
                icon: '',
                description: 'Flattened data in DB',
                useCases: [],
                dataType: 'structured',
                position: { x: 600, y: 200 },
                inputs: ['conn26'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn25', source: 'template9-source', target: 'template9-derived', isValid: false },
            { id: 'conn26', source: 'template9-derived', target: 'template9-dest', isValid: true }
        ]
    },
    {
        id: 'row-count',
        name: 'Row Count and Auditing',
        description: 'Track the number of rows processed for auditing',
        difficulty: 'Beginner',
        components: [
            {
                id: 'template10-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Source Data',
                icon: '',
                description: 'Data to process',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn27'],
                hasError: false
            },
            {
                id: 'template10-rowcount',
                type: 'transformation',
                category: 'RowCount',
                name: 'Row Count',
                icon: '',
                description: 'Counts rows passing through and stores in a variable.',
                useCases: ['Auditing', 'Logging process stats'],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['conn27'],
                outputs: ['conn28'],
                hasError: false
            },
            {
                id: 'template10-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Destination',
                icon: '',
                description: 'Final destination',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['conn28'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn27', source: 'template10-source', target: 'template10-rowcount', isValid: true },
            { id: 'conn28', source: 'template10-rowcount', target: 'template10-dest', isValid: true }
        ]
    },
    {
        id: 'scd-type2',
        name: 'Slowly Changing Dimension (SCD Type 2)',
        description: 'Track historical changes in dimension data with start/end dates',
        difficulty: 'Advanced',
        components: [
            {
                id: 'template11-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'New Customer Data',
                icon: '',
                description: 'Current customer snapshot',
                useCases: [],
                dataType: 'structured',
                position: { x: 50, y: 200 },
                inputs: [],
                outputs: ['conn29'],
                hasError: false
            },
            {
                id: 'template11-lookup',
                type: 'transformation',
                category: 'Lookup',
                name: 'Check Existing',
                icon: '',
                description: 'Check if customer exists',
                useCases: [],
                dataType: 'structured',
                position: { x: 300, y: 200 },
                inputs: ['conn29', 'conn35'],
                outputs: ['conn30'],
                hasError: false,
                referenceInput: 'template11-ref'
            },
            {
                id: 'template11-ref',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Dimension Table',
                icon: '',
                description: 'Existing dimension data',
                useCases: [],
                dataType: 'structured',
                position: { x: 50, y: 350 },
                inputs: [],
                outputs: ['conn35'],
                hasError: false
            },
            {
                id: 'template11-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'New vs Changed',
                icon: '',
                description: 'Route new inserts and updates',
                useCases: [],
                dataType: 'structured',
                position: { x: 550, y: 200 },
                inputs: ['conn30'],
                outputs: ['conn31', 'conn32'],
                hasError: false
            },
            {
                id: 'template11-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Add Surrogate Key',
                icon: '',
                description: 'Generate surrogate keys and dates',
                useCases: [],
                dataType: 'structured',
                position: { x: 800, y: 150 },
                inputs: ['conn31'],
                outputs: ['conn33'],
                hasError: false
            },
            {
                id: 'template11-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Insert New Records',
                icon: '',
                description: 'New dimension entries',
                useCases: [],
                dataType: 'structured',
                position: { x: 1050, y: 150 },
                inputs: ['conn33'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template11-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Update Historical',
                icon: '',
                description: 'Close old records',
                useCases: [],
                dataType: 'structured',
                position: { x: 800, y: 280 },
                inputs: ['conn32'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn29', source: 'template11-source', target: 'template11-lookup', isValid: true },
            { id: 'conn35', source: 'template11-ref', target: 'template11-lookup', isValid: true },
            { id: 'conn30', source: 'template11-lookup', target: 'template11-split', isValid: true },
            { id: 'conn31', source: 'template11-split', target: 'template11-derived', isValid: true },
            { id: 'conn32', source: 'template11-split', target: 'template11-dest2', isValid: true },
            { id: 'conn33', source: 'template11-derived', target: 'template11-dest1', isValid: true }
        ]
    },
    {
        id: 'incremental-load',
        name: 'Incremental Data Load',
        description: 'Load only new or changed records since last run',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template12-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Source (WHERE ModifiedDate > ?)',
                icon: '',
                description: 'Query with date filter',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn36'],
                hasError: false
            },
            {
                id: 'template12-rowcount',
                type: 'transformation',
                category: 'RowCount',
                name: 'Count New Records',
                icon: '',
                description: 'Track records processed',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['conn36'],
                outputs: ['conn37'],
                hasError: false
            },
            {
                id: 'template12-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Staging Table',
                icon: '',
                description: 'Load to staging',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['conn37'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn36', source: 'template12-source', target: 'template12-rowcount', isValid: true },
            { id: 'conn37', source: 'template12-rowcount', target: 'template12-dest', isValid: true }
        ]
    },
    {
        id: 'error-handling',
        name: 'Comprehensive Error Handling',
        description: 'Capture errors, redirect to error table, continue processing',
        difficulty: 'Advanced',
        components: [
            {
                id: 'template13-source',
                type: 'source',
                category: 'FlatFileSource',
                name: 'Raw Data File',
                icon: '',
                description: 'Potentially dirty data',
                useCases: [],
                dataType: 'text',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn38'],
                hasError: false
            },
            {
                id: 'template13-conv',
                type: 'transformation',
                category: 'DataConversion',
                name: 'Data Conversion',
                icon: '',
                description: 'Convert with error redirection',
                useCases: [],
                dataType: 'structured',
                position: { x: 350, y: 200 },
                inputs: ['conn38'],
                outputs: ['conn39', 'conn40'],
                hasError: false
            },
            {
                id: 'template13-dest-valid',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Valid Data',
                icon: '',
                description: 'Successfully converted records',
                useCases: [],
                dataType: 'structured',
                position: { x: 600, y: 120 },
                inputs: ['conn39'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template13-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Add Error Info',
                icon: '',
                description: 'Add error codes and timestamps',
                useCases: [],
                dataType: 'text',
                position: { x: 600, y: 280 },
                inputs: ['conn40'],
                outputs: ['conn41'],
                hasError: false
            },
            {
                id: 'template13-dest-error',
                type: 'destination',
                category: 'FlatFileDestination',
                name: 'Error Log',
                icon: '',
                description: 'Failed conversion records',
                useCases: [],
                dataType: 'text',
                position: { x: 850, y: 280 },
                inputs: ['conn41'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn38', source: 'template13-source', target: 'template13-conv', isValid: false },
            { id: 'conn39', source: 'template13-conv', target: 'template13-dest-valid', isValid: true },
            { id: 'conn40', source: 'template13-conv', target: 'template13-derived', isValid: true },
            { id: 'conn41', source: 'template13-derived', target: 'template13-dest-error', isValid: true }
        ]
    },
    {
        id: 'data-quality',
        name: 'Data Quality Validation Pipeline',
        description: 'Validate data quality rules before loading',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template14-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Unvalidated Data',
                icon: '',
                description: 'Raw source data',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 250 },
                inputs: [],
                outputs: ['conn42'],
                hasError: false
            },
            {
                id: 'template14-split1',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Check Nulls',
                icon: '',
                description: 'Filter null values',
                useCases: [],
                dataType: 'structured',
                position: { x: 300, y: 250 },
                inputs: ['conn42'],
                outputs: ['conn43', 'conn47'],
                hasError: false
            },
            {
                id: 'template14-split2',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Check Ranges',
                icon: '',
                description: 'Validate value ranges',
                useCases: [],
                dataType: 'structured',
                position: { x: 500, y: 200 },
                inputs: ['conn43'],
                outputs: ['conn44', 'conn48'],
                hasError: false
            },
            {
                id: 'template14-split3',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Check Formats',
                icon: '',
                description: 'Validate email, phone formats',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 150 },
                inputs: ['conn44'],
                outputs: ['conn45', 'conn49'],
                hasError: false
            },
            {
                id: 'template14-dest-valid',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Clean Data',
                icon: '',
                description: 'Passed all quality checks',
                useCases: [],
                dataType: 'structured',
                position: { x: 950, y: 150 },
                inputs: ['conn45'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template14-union',
                type: 'transformation',
                category: 'UnionAll',
                name: 'Combine Errors',
                icon: '',
                description: 'All quality failures',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 350 },
                inputs: ['conn47', 'conn48', 'conn49'],
                outputs: ['conn46'],
                hasError: false
            },
            {
                id: 'template14-dest-error',
                type: 'destination',
                category: 'FlatFileDestination',
                name: 'Quality Failures',
                icon: '',
                description: 'Records that failed validation',
                useCases: [],
                dataType: 'text',
                position: { x: 950, y: 350 },
                inputs: ['conn46'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn42', source: 'template14-source', target: 'template14-split1', isValid: true },
            { id: 'conn43', source: 'template14-split1', target: 'template14-split2', isValid: true },
            { id: 'conn44', source: 'template14-split2', target: 'template14-split3', isValid: true },
            { id: 'conn45', source: 'template14-split3', target: 'template14-dest-valid', isValid: true },
            { id: 'conn47', source: 'template14-split1', target: 'template14-union', isValid: true },
            { id: 'conn48', source: 'template14-split2', target: 'template14-union', isValid: true },
            { id: 'conn49', source: 'template14-split3', target: 'template14-union', isValid: true },
            { id: 'conn46', source: 'template14-union', target: 'template14-dest-error', isValid: true }
        ]
    },
    {
        id: 'star-schema-load',
        name: 'Star Schema Fact Table Load',
        description: 'Look up dimension keys and load fact table',
        difficulty: 'Advanced',
        components: [
            {
                id: 'template15-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Fact Source',
                icon: '',
                description: 'Transaction data',
                useCases: [],
                dataType: 'structured',
                position: { x: 50, y: 250 },
                inputs: [],
                outputs: ['conn50'],
                hasError: false
            },
            {
                id: 'template15-lookup1',
                type: 'transformation',
                category: 'Lookup',
                name: 'Lookup Customer Key',
                icon: '',
                description: 'Get customer dimension key',
                useCases: [],
                dataType: 'structured',
                position: { x: 300, y: 200 },
                inputs: ['conn50', 'conn54'],
                outputs: ['conn51'],
                hasError: false,
                referenceInput: 'template15-dim1'
            },
            {
                id: 'template15-dim1',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Customer Dimension',
                icon: '',
                description: 'Customer keys',
                useCases: [],
                dataType: 'structured',
                position: { x: 50, y: 100 },
                inputs: [],
                outputs: ['conn54'],
                hasError: false
            },
            {
                id: 'template15-lookup2',
                type: 'transformation',
                category: 'Lookup',
                name: 'Lookup Product Key',
                icon: '',
                description: 'Get product dimension key',
                useCases: [],
                dataType: 'structured',
                position: { x: 550, y: 200 },
                inputs: ['conn51', 'conn55'],
                outputs: ['conn52'],
                hasError: false,
                referenceInput: 'template15-dim2'
            },
            {
                id: 'template15-dim2',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Product Dimension',
                icon: '',
                description: 'Product keys',
                useCases: [],
                dataType: 'structured',
                position: { x: 300, y: 100 },
                inputs: [],
                outputs: ['conn55'],
                hasError: false
            },
            {
                id: 'template15-lookup3',
                type: 'transformation',
                category: 'Lookup',
                name: 'Lookup Date Key',
                icon: '',
                description: 'Get date dimension key',
                useCases: [],
                dataType: 'structured',
                position: { x: 800, y: 200 },
                inputs: ['conn52', 'conn56'],
                outputs: ['conn53'],
                hasError: false,
                referenceInput: 'template15-dim3'
            },
            {
                id: 'template15-dim3',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Date Dimension',
                icon: '',
                description: 'Date keys',
                useCases: [],
                dataType: 'structured',
                position: { x: 550, y: 100 },
                inputs: [],
                outputs: ['conn56'],
                hasError: false
            },
            {
                id: 'template15-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Fact Table',
                icon: '',
                description: 'Final fact table',
                useCases: [],
                dataType: 'structured',
                position: { x: 1050, y: 200 },
                inputs: ['conn53'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn50', source: 'template15-source', target: 'template15-lookup1', isValid: true },
            { id: 'conn54', source: 'template15-dim1', target: 'template15-lookup1', isValid: true },
            { id: 'conn51', source: 'template15-lookup1', target: 'template15-lookup2', isValid: true },
            { id: 'conn55', source: 'template15-dim2', target: 'template15-lookup2', isValid: true },
            { id: 'conn52', source: 'template15-lookup2', target: 'template15-lookup3', isValid: true },
            { id: 'conn56', source: 'template15-dim3', target: 'template15-lookup3', isValid: true },
            { id: 'conn53', source: 'template15-lookup3', target: 'template15-dest', isValid: true }
        ]
    },
    {
        id: 'deduplication',
        name: 'Data Deduplication',
        description: 'Remove duplicate records based on business key',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template16-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Data with Duplicates',
                icon: '',
                description: 'Undeduped source',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn57'],
                hasError: false
            },
            {
                id: 'template16-sort',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort by Key + Date',
                icon: '',
                description: 'Order by business key',
                useCases: [],
                dataType: 'structured',
                position: { x: 350, y: 200 },
                inputs: ['conn57'],
                outputs: ['conn58'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'template16-agg',
                type: 'transformation',
                category: 'Aggregate',
                name: 'Group by Key (Keep Latest)',
                icon: '',
                description: 'Deduplicate aggregation',
                useCases: [],
                dataType: 'structured',
                position: { x: 600, y: 200 },
                inputs: ['conn58'],
                outputs: ['conn59'],
                hasError: false
            },
            {
                id: 'template16-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Unique Records',
                icon: '',
                description: 'Deduplicated data',
                useCases: [],
                dataType: 'structured',
                position: { x: 850, y: 200 },
                inputs: ['conn59'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn57', source: 'template16-source', target: 'template16-sort', isValid: true },
            { id: 'conn58', source: 'template16-sort', target: 'template16-agg', isValid: true },
            { id: 'conn59', source: 'template16-agg', target: 'template16-dest', isValid: true }
        ]
    },
    {
        id: 'xml-parsing',
        name: 'XML Data Extraction',
        description: 'Parse XML files and extract into relational tables',
        difficulty: 'Advanced',
        components: [
            {
                id: 'template17-source',
                type: 'source',
                category: 'XMLSource',
                name: 'XML File',
                icon: '',
                description: 'Complex XML document',
                useCases: [],
                dataType: 'nested',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn60'],
                hasError: false
            },
            {
                id: 'template17-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Parse XML Nodes',
                icon: '',
                description: 'Extract nested elements',
                useCases: [],
                dataType: 'structured',
                position: { x: 350, y: 200 },
                inputs: ['conn60'],
                outputs: ['conn61'],
                hasError: false
            },
            {
                id: 'template17-multicast',
                type: 'transformation',
                category: 'Multicast',
                name: 'Split to Tables',
                icon: '',
                description: 'Send to multiple normalized tables',
                useCases: [],
                dataType: 'structured',
                position: { x: 600, y: 200 },
                inputs: ['conn61'],
                outputs: ['conn62', 'conn63', 'conn64'],
                hasError: false
            },
            {
                id: 'template17-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Header Table',
                icon: '',
                description: 'Parent records',
                useCases: [],
                dataType: 'structured',
                position: { x: 850, y: 80 },
                inputs: ['conn62'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template17-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Line Items Table',
                icon: '',
                description: 'Child records',
                useCases: [],
                dataType: 'structured',
                position: { x: 850, y: 200 },
                inputs: ['conn63'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template17-dest3',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Attributes Table',
                icon: '',
                description: 'Detail records',
                useCases: [],
                dataType: 'structured',
                position: { x: 850, y: 320 },
                inputs: ['conn64'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn60', source: 'template17-source', target: 'template17-derived', isValid: false },
            { id: 'conn61', source: 'template17-derived', target: 'template17-multicast', isValid: true },
            { id: 'conn62', source: 'template17-multicast', target: 'template17-dest1', isValid: true },
            { id: 'conn63', source: 'template17-multicast', target: 'template17-dest2', isValid: true },
            { id: 'conn64', source: 'template17-multicast', target: 'template17-dest3', isValid: true }
        ]
    },
    {
        id: 'excel-consolidation',
        name: 'Multiple Excel Files Consolidation',
        description: 'Combine multiple Excel sheets from different workbooks',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template18-source1',
                type: 'source',
                category: 'ExcelSource',
                name: 'Q1 Report',
                icon: '',
                description: 'First quarter Excel',
                useCases: [],
                dataType: 'mixed',
                position: { x: 50, y: 100 },
                inputs: [],
                outputs: ['conn65'],
                hasError: false
            },
            {
                id: 'template18-conv1',
                type: 'transformation',
                category: 'DataConversion',
                name: 'Standardize Q1',
                icon: '',
                description: 'Fix Excel types',
                useCases: [],
                dataType: 'structured',
                position: { x: 250, y: 100 },
                inputs: ['conn65'],
                outputs: ['conn69'],
                hasError: false
            },
            {
                id: 'template18-source2',
                type: 'source',
                category: 'ExcelSource',
                name: 'Q2 Report',
                icon: '',
                description: 'Second quarter Excel',
                useCases: [],
                dataType: 'mixed',
                position: { x: 50, y: 220 },
                inputs: [],
                outputs: ['conn66'],
                hasError: false
            },
            {
                id: 'template18-conv2',
                type: 'transformation',
                category: 'DataConversion',
                name: 'Standardize Q2',
                icon: '',
                description: 'Fix Excel types',
                useCases: [],
                dataType: 'structured',
                position: { x: 250, y: 220 },
                inputs: ['conn66'],
                outputs: ['conn70'],
                hasError: false
            },
            {
                id: 'template18-source3',
                type: 'source',
                category: 'ExcelSource',
                name: 'Q3 Report',
                icon: '',
                description: 'Third quarter Excel',
                useCases: [],
                dataType: 'mixed',
                position: { x: 50, y: 340 },
                inputs: [],
                outputs: ['conn67'],
                hasError: false
            },
            {
                id: 'template18-conv3',
                type: 'transformation',
                category: 'DataConversion',
                name: 'Standardize Q3',
                icon: '',
                description: 'Fix Excel types',
                useCases: [],
                dataType: 'structured',
                position: { x: 250, y: 340 },
                inputs: ['conn67'],
                outputs: ['conn71'],
                hasError: false
            },
            {
                id: 'template18-union',
                type: 'transformation',
                category: 'UnionAll',
                name: 'Combine Quarters',
                icon: '',
                description: 'Union all quarters',
                useCases: [],
                dataType: 'structured',
                position: { x: 500, y: 220 },
                inputs: ['conn69', 'conn70', 'conn71'],
                outputs: ['conn68'],
                hasError: false
            },
            {
                id: 'template18-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Annual Summary',
                icon: '',
                description: 'Consolidated yearly data',
                useCases: [],
                dataType: 'structured',
                position: { x: 750, y: 220 },
                inputs: ['conn68'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn65', source: 'template18-source1', target: 'template18-conv1', isValid: false },
            { id: 'conn66', source: 'template18-source2', target: 'template18-conv2', isValid: false },
            { id: 'conn67', source: 'template18-source3', target: 'template18-conv3', isValid: false },
            { id: 'conn69', source: 'template18-conv1', target: 'template18-union', isValid: true },
            { id: 'conn70', source: 'template18-conv2', target: 'template18-union', isValid: true },
            { id: 'conn71', source: 'template18-conv3', target: 'template18-union', isValid: true },
            { id: 'conn68', source: 'template18-union', target: 'template18-dest', isValid: true }
        ]
    },
    {
        id: 'audit-trail',
        name: 'Data Audit Trail Pattern',
        description: 'Track who, what, when for data changes with logging',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template19-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Source Data',
                icon: '',
                description: 'Data to audit',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn72'],
                hasError: false
            },
            {
                id: 'template19-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Add Audit Columns',
                icon: '',
                description: 'CreatedBy, CreatedDate, ModifiedBy, etc',
                useCases: [],
                dataType: 'structured',
                position: { x: 350, y: 200 },
                inputs: ['conn72'],
                outputs: ['conn73'],
                hasError: false
            },
            {
                id: 'template19-rowcount',
                type: 'transformation',
                category: 'RowCount',
                name: 'Count Records',
                icon: '',
                description: 'Track processing count',
                useCases: [],
                dataType: 'structured',
                position: { x: 600, y: 200 },
                inputs: ['conn73'],
                outputs: ['conn74'],
                hasError: false
            },
            {
                id: 'template19-multicast',
                type: 'transformation',
                category: 'Multicast',
                name: 'Split for Audit',
                icon: '',
                description: 'Send to data + audit log',
                useCases: [],
                dataType: 'structured',
                position: { x: 850, y: 200 },
                inputs: ['conn74'],
                outputs: ['conn75', 'conn76'],
                hasError: false
            },
            {
                id: 'template19-dest-data',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Main Table',
                icon: '',
                description: 'Business data',
                useCases: [],
                dataType: 'structured',
                position: { x: 1100, y: 130 },
                inputs: ['conn75'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template19-dest-audit',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Audit Log Table',
                icon: '',
                description: 'Change tracking',
                useCases: [],
                dataType: 'structured',
                position: { x: 1100, y: 270 },
                inputs: ['conn76'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn72', source: 'template19-source', target: 'template19-derived', isValid: true },
            { id: 'conn73', source: 'template19-derived', target: 'template19-rowcount', isValid: true },
            { id: 'conn74', source: 'template19-rowcount', target: 'template19-multicast', isValid: true },
            { id: 'conn75', source: 'template19-multicast', target: 'template19-dest-data', isValid: true },
            { id: 'conn76', source: 'template19-multicast', target: 'template19-dest-audit', isValid: true }
        ]
    },
    {
        id: 'full-etl-pipeline',
        name: 'Complete ETL Pipeline (Extract-Transform-Load)',
        description: 'Full end-to-end ETL with staging, transformation, and warehouse load',
        difficulty: 'Advanced',
        components: [
            {
                id: 'template20-source1',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Orders Source',
                icon: '',
                description: 'OLTP orders table',
                useCases: [],
                dataType: 'structured',
                position: { x: 50, y: 150 },
                inputs: [],
                outputs: ['conn77'],
                hasError: false
            },
            {
                id: 'template20-source2',
                type: 'source',
                category: 'FlatFileSource',
                name: 'Customer CSV',
                icon: '',
                description: 'Customer master data',
                useCases: [],
                dataType: 'text',
                position: { x: 50, y: 300 },
                inputs: [],
                outputs: ['conn78'],
                hasError: false
            },
            {
                id: 'template20-conv',
                type: 'transformation',
                category: 'DataConversion',
                name: 'Standardize Types',
                icon: '',
                description: 'Convert CSV to typed data',
                useCases: [],
                dataType: 'structured',
                position: { x: 250, y: 300 },
                inputs: ['conn78'],
                outputs: ['conn84'],
                hasError: false
            },
            {
                id: 'template20-sort1',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort Orders',
                icon: '',
                description: 'Sort by customer key',
                useCases: [],
                dataType: 'structured',
                position: { x: 250, y: 150 },
                inputs: ['conn77'],
                outputs: ['conn82'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'template20-sort2',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort Customers',
                icon: '',
                description: 'Sort by customer key',
                useCases: [],
                dataType: 'structured',
                position: { x: 450, y: 300 },
                inputs: ['conn84'],
                outputs: ['conn83'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'template20-merge',
                type: 'transformation',
                category: 'MergeJoin',
                name: 'Join Orders & Customers',
                icon: '',
                description: 'Enrich orders with customer data',
                useCases: [],
                dataType: 'structured',
                position: { x: 650, y: 225 },
                inputs: ['conn82', 'conn83'],
                outputs: ['conn79'],
                hasError: false
            },
            {
                id: 'template20-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Calculate Metrics',
                icon: '',
                description: 'Total amount, margin, etc',
                useCases: [],
                dataType: 'structured',
                position: { x: 900, y: 225 },
                inputs: ['conn79'],
                outputs: ['conn80'],
                hasError: false
            },
            {
                id: 'template20-agg',
                type: 'transformation',
                category: 'Aggregate',
                name: 'Daily Summary',
                icon: '',
                description: 'Aggregate by date',
                useCases: [],
                dataType: 'structured',
                position: { x: 1100, y: 225 },
                inputs: ['conn80'],
                outputs: ['conn81'],
                hasError: false
            },
            {
                id: 'template20-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Data Warehouse',
                icon: '',
                description: 'Final warehouse fact table',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 225 },
                inputs: ['conn81'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn77', source: 'template20-source1', target: 'template20-sort1', isValid: true },
            { id: 'conn78', source: 'template20-source2', target: 'template20-conv', isValid: false },
            { id: 'conn84', source: 'template20-conv', target: 'template20-sort2', isValid: true },
            { id: 'conn82', source: 'template20-sort1', target: 'template20-merge', isValid: true },
            { id: 'conn83', source: 'template20-sort2', target: 'template20-merge', isValid: true },
            { id: 'conn79', source: 'template20-merge', target: 'template20-derived', isValid: true },
            { id: 'conn80', source: 'template20-derived', target: 'template20-agg', isValid: true },
            { id: 'conn81', source: 'template20-agg', target: 'template20-dest', isValid: true }
        ]
    },
    {
        id: 'sql-to-excel-method1',
        name: 'SQL to Multi-Sheet Excel (Method 1: Conditional Split)',
        description: 'Split SQL data into Active/Termed employees using Conditional Split - RECOMMENDED',
        difficulty: 'Beginner',
        components: [
            {
                id: 'template21-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Employee Table (SQL)',
                icon: '',
                description: 'SELECT * FROM Employees',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn85'],
                hasError: false
            },
            {
                id: 'template21-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Split: Active vs Termed',
                icon: '',
                description: 'Condition: EmploymentStatus == "Active"',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['conn85'],
                outputs: ['conn86', 'conn87'],
                hasError: false
            },
            {
                id: 'template21-dest1',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Sheet1: Active Employees',
                icon: '',
                description: 'Output to ActiveEmployees sheet',
                useCases: [],
                dataType: 'mixed',
                position: { x: 700, y: 100 },
                inputs: ['conn86'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template21-dest2',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Sheet2: Termed Employees',
                icon: '',
                description: 'Output to TermedEmployees sheet',
                useCases: [],
                dataType: 'mixed',
                position: { x: 700, y: 300 },
                inputs: ['conn87'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn85', source: 'template21-source', target: 'template21-split', isValid: true },
            { id: 'conn86', source: 'template21-split', target: 'template21-dest1', isValid: true },
            { id: 'conn87', source: 'template21-split', target: 'template21-dest2', isValid: true }
        ]
    },
    {
        id: 'sql-to-excel-method2',
        name: 'SQL to Multi-Sheet Excel (Method 2: Separate Queries)',
        description: 'Use two SQL queries with WHERE clauses - BETTER FOR PERFORMANCE',
        difficulty: 'Beginner',
        components: [
            {
                id: 'template22-source1',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Active Employees Query',
                icon: '',
                description: 'SELECT * FROM Employees WHERE Status = \'Active\'',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 100 },
                inputs: [],
                outputs: ['conn88'],
                hasError: false
            },
            {
                id: 'template22-source2',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Termed Employees Query',
                icon: '',
                description: 'SELECT * FROM Employees WHERE Status = \'Termed\'',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 300 },
                inputs: [],
                outputs: ['conn89'],
                hasError: false
            },
            {
                id: 'template22-dest1',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Sheet1: Active Employees',
                icon: '',
                description: 'Output to ActiveEmployees sheet',
                useCases: [],
                dataType: 'mixed',
                position: { x: 450, y: 100 },
                inputs: ['conn88'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template22-dest2',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Sheet2: Termed Employees',
                icon: '',
                description: 'Output to TermedEmployees sheet',
                useCases: [],
                dataType: 'mixed',
                position: { x: 450, y: 300 },
                inputs: ['conn89'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn88', source: 'template22-source1', target: 'template22-dest1', isValid: true },
            { id: 'conn89', source: 'template22-source2', target: 'template22-dest2', isValid: true }
        ]
    },
    {
        id: 'sql-to-excel-method3',
        name: 'SQL to Multi-Sheet Excel (Method 3: Multicast)',
        description: 'Use Multicast then Conditional Split - FLEXIBLE FOR ADDITIONAL PROCESSING',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template23-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Employee Table (SQL)',
                icon: '',
                description: 'SELECT * FROM Employees',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn90'],
                hasError: false
            },
            {
                id: 'template23-multicast',
                type: 'transformation',
                category: 'Multicast',
                name: 'Broadcast Data',
                icon: '',
                description: 'Send to both processing paths',
                useCases: [],
                dataType: 'structured',
                position: { x: 350, y: 200 },
                inputs: ['conn90'],
                outputs: ['conn91', 'conn92'],
                hasError: false
            },
            {
                id: 'template23-split1',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Filter Active Only',
                icon: '',
                description: 'Keep Status == "Active"',
                useCases: [],
                dataType: 'structured',
                position: { x: 600, y: 100 },
                inputs: ['conn91'],
                outputs: ['conn93'],
                hasError: false
            },
            {
                id: 'template23-split2',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Filter Termed Only',
                icon: '',
                description: 'Keep Status == "Termed"',
                useCases: [],
                dataType: 'structured',
                position: { x: 600, y: 300 },
                inputs: ['conn92'],
                outputs: ['conn94'],
                hasError: false
            },
            {
                id: 'template23-dest1',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Sheet1: Active Employees',
                icon: '',
                description: 'Output to ActiveEmployees sheet',
                useCases: [],
                dataType: 'mixed',
                position: { x: 850, y: 100 },
                inputs: ['conn93'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template23-dest2',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Sheet2: Termed Employees',
                icon: '',
                description: 'Output to TermedEmployees sheet',
                useCases: [],
                dataType: 'mixed',
                position: { x: 850, y: 300 },
                inputs: ['conn94'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn90', source: 'template23-source', target: 'template23-multicast', isValid: true },
            { id: 'conn91', source: 'template23-multicast', target: 'template23-split1', isValid: true },
            { id: 'conn92', source: 'template23-multicast', target: 'template23-split2', isValid: true },
            { id: 'conn93', source: 'template23-split1', target: 'template23-dest1', isValid: true },
            { id: 'conn94', source: 'template23-split2', target: 'template23-dest2', isValid: true }
        ]
    },
    {
        id: 'stored-proc-execution',
        name: 'Execute Stored Procedure with Parameters',
        description: 'Call SP, process results, handle output parameters',
        difficulty: 'Intermediate',
        components: [
            {
                id: 'template24-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'EXEC sp_GetEmployees @Date',
                icon: '',
                description: 'Execute stored procedure with parameter',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['conn95'],
                hasError: false
            },
            {
                id: 'template24-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Add Processing Metadata',
                icon: '',
                description: 'Add LoadDate, BatchID columns',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['conn95'],
                outputs: ['conn96'],
                hasError: false
            },
            {
                id: 'template24-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Validate Data Quality',
                icon: '',
                description: 'Separate valid vs invalid records',
                useCases: [],
                dataType: 'structured',
                position: { x: 650, y: 200 },
                inputs: ['conn96'],
                outputs: ['conn97', 'conn98'],
                hasError: false
            },
            {
                id: 'template24-dest-valid',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Target Table',
                icon: '',
                description: 'Load valid records',
                useCases: [],
                dataType: 'structured',
                position: { x: 900, y: 130 },
                inputs: ['conn97'],
                outputs: [],
                hasError: false
            },
            {
                id: 'template24-dest-error',
                type: 'destination',
                category: 'FlatFileDestination',
                name: 'Error Log',
                icon: '',
                description: 'Log invalid records',
                useCases: [],
                dataType: 'text',
                position: { x: 900, y: 270 },
                inputs: ['conn98'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn95', source: 'template24-source', target: 'template24-derived', isValid: true },
            { id: 'conn96', source: 'template24-derived', target: 'template24-split', isValid: true },
            { id: 'conn97', source: 'template24-split', target: 'template24-dest-valid', isValid: true },
            { id: 'conn98', source: 'template24-split', target: 'template24-dest-error', isValid: true }
        ]
    },
    {
        id: 'multi-sp-pattern',
        name: 'Multiple Stored Procedures Pattern',
        description: 'Execute multiple SPs in parallel, combine results',
        difficulty: 'Advanced',
        components: [
            {
                id: 'template25-sp1',
                type: 'source',
                category: 'OLEDBSource',
                name: 'EXEC sp_GetDepartments',
                icon: '',
                description: 'Get department data',
                useCases: [],
                dataType: 'structured',
                position: { x: 50, y: 100 },
                inputs: [],
                outputs: ['conn99'],
                hasError: false
            },
            {
                id: 'template25-sp2',
                type: 'source',
                category: 'OLEDBSource',
                name: 'EXEC sp_GetEmployees',
                icon: '',
                description: 'Get employee data',
                useCases: [],
                dataType: 'structured',
                position: { x: 50, y: 250 },
                inputs: [],
                outputs: ['conn100'],
                hasError: false
            },
            {
                id: 'template25-sp3',
                type: 'source',
                category: 'OLEDBSource',
                name: 'EXEC sp_GetSalaries',
                icon: '',
                description: 'Get salary data',
                useCases: [],
                dataType: 'structured',
                position: { x: 50, y: 400 },
                inputs: [],
                outputs: ['conn101'],
                hasError: false
            },
            {
                id: 'template25-sort1',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort Departments',
                icon: '',
                description: 'Sort by DeptID',
                useCases: [],
                dataType: 'structured',
                position: { x: 300, y: 100 },
                inputs: ['conn99'],
                outputs: ['conn105'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'template25-sort2',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort Employees',
                icon: '',
                description: 'Sort by EmpID, DeptID',
                useCases: [],
                dataType: 'structured',
                position: { x: 300, y: 250 },
                inputs: ['conn100'],
                outputs: ['conn106'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'template25-merge1',
                type: 'transformation',
                category: 'MergeJoin',
                name: 'Join Emp + Dept',
                icon: '',
                description: 'LEFT JOIN on DeptID',
                useCases: [],
                dataType: 'structured',
                position: { x: 550, y: 175 },
                inputs: ['conn106', 'conn105'],
                outputs: ['conn102'],
                hasError: false
            },
            {
                id: 'template25-sort3',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort for Salary Join',
                icon: '',
                description: 'Sort by EmpID',
                useCases: [],
                dataType: 'structured',
                position: { x: 800, y: 175 },
                inputs: ['conn102'],
                outputs: ['conn107'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'template25-sort4',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort Salaries',
                icon: '',
                description: 'Sort by EmpID',
                useCases: [],
                dataType: 'structured',
                position: { x: 300, y: 400 },
                inputs: ['conn101'],
                outputs: ['conn108'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'template25-merge2',
                type: 'transformation',
                category: 'MergeJoin',
                name: 'Join with Salaries',
                icon: '',
                description: 'INNER JOIN on EmpID',
                useCases: [],
                dataType: 'structured',
                position: { x: 1050, y: 287 },
                inputs: ['conn107', 'conn108'],
                outputs: ['conn103'],
                hasError: false
            },
            {
                id: 'template25-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Calculate Total Comp',
                icon: '',
                description: 'Salary + Bonus + Benefits',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 287 },
                inputs: ['conn103'],
                outputs: ['conn104'],
                hasError: false
            },
            {
                id: 'template25-dest',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Employee Summary Report',
                icon: '',
                description: 'Final consolidated report',
                useCases: [],
                dataType: 'mixed',
                position: { x: 1550, y: 287 },
                inputs: ['conn104'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'conn99', source: 'template25-sp1', target: 'template25-sort1', isValid: true },
            { id: 'conn100', source: 'template25-sp2', target: 'template25-sort2', isValid: true },
            { id: 'conn101', source: 'template25-sp3', target: 'template25-sort4', isValid: true },
            { id: 'conn105', source: 'template25-sort1', target: 'template25-merge1', isValid: true },
            { id: 'conn106', source: 'template25-sort2', target: 'template25-merge1', isValid: true },
            { id: 'conn102', source: 'template25-merge1', target: 'template25-sort3', isValid: true },
            { id: 'conn107', source: 'template25-sort3', target: 'template25-merge2', isValid: true },
            { id: 'conn108', source: 'template25-sort4', target: 'template25-merge2', isValid: true },
            { id: 'conn103', source: 'template25-merge2', target: 'template25-derived', isValid: true },
            { id: 'conn104', source: 'template25-derived', target: 'template25-dest', isValid: true }
        ]
    },
    // Healthcare Templates
    {
        id: 'healthcare-patient-integration',
        name: 'Patient Data Integration',
        description: 'Integrate patient data from multiple sources with data quality checks and HIPAA compliance',
        difficulty: 'Intermediate',
        category: 'Healthcare',
        industry: 'Healthcare',
        useCase: 'Patient Data Integration',
        tags: ['healthcare', 'patient', 'integration', 'data-quality'],
        components: [
            {
                id: 'h1-source1',
                type: 'source',
                category: 'OLEDBSource',
                name: 'EHR System',
                icon: '',
                description: 'Electronic Health Records source',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 150 },
                inputs: [],
                outputs: ['hconn1'],
                hasError: false
            },
            {
                id: 'h1-source2',
                type: 'source',
                category: 'FlatFileSource',
                name: 'Legacy Patient Files',
                icon: '',
                description: 'Historical patient data files',
                useCases: [],
                dataType: 'text',
                position: { x: 100, y: 300 },
                inputs: [],
                outputs: ['hconn2'],
                hasError: false
            },
            {
                id: 'h1-conv1',
                type: 'transformation',
                category: 'DataConversion',
                name: 'Convert Legacy Data',
                icon: '',
                description: 'Convert text to structured format',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 300 },
                inputs: ['hconn2'],
                outputs: ['hconn3'],
                hasError: false
            },
            {
                id: 'h1-union',
                type: 'transformation',
                category: 'UnionAll',
                name: 'Merge Patient Data',
                icon: '',
                description: 'Combine EHR and legacy data',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 225 },
                inputs: ['hconn1', 'hconn3'],
                outputs: ['hconn4'],
                hasError: false
            },
            {
                id: 'h1-lookup',
                type: 'transformation',
                category: 'Lookup',
                name: 'Validate Patient IDs',
                icon: '',
                description: 'Lookup against master patient index',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 225 },
                inputs: ['hconn4'],
                outputs: ['hconn5'],
                hasError: false,
                referenceInput: 'master-patient-index'
            },
            {
                id: 'h1-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Integrated Patient DB',
                icon: '',
                description: 'Centralized patient database',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 225 },
                inputs: ['hconn5'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'hconn1', source: 'h1-source1', target: 'h1-union', isValid: true },
            { id: 'hconn2', source: 'h1-source2', target: 'h1-conv1', isValid: true },
            { id: 'hconn3', source: 'h1-conv1', target: 'h1-union', isValid: true },
            { id: 'hconn4', source: 'h1-union', target: 'h1-lookup', isValid: true },
            { id: 'hconn5', source: 'h1-lookup', target: 'h1-dest', isValid: true }
        ]
    },
    {
        id: 'healthcare-hipaa-etl',
        name: 'HIPAA Compliant ETL',
        description: 'ETL pipeline with PHI encryption and audit trail for HIPAA compliance',
        difficulty: 'Advanced',
        category: 'Healthcare',
        industry: 'Healthcare',
        useCase: 'HIPAA Compliance',
        tags: ['healthcare', 'hipaa', 'compliance', 'security', 'audit'],
        components: [
            {
                id: 'h2-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'PHI Source',
                icon: '',
                description: 'Protected Health Information source',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['h2conn1'],
                hasError: false
            },
            {
                id: 'h2-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Encrypt PHI Fields',
                icon: '',
                description: 'Apply encryption to sensitive fields',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['h2conn1'],
                outputs: ['h2conn2'],
                hasError: false
            },
            {
                id: 'h2-rowcount',
                type: 'transformation',
                category: 'RowCount',
                name: 'Audit Row Count',
                icon: '',
                description: 'Track records processed',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['h2conn2'],
                outputs: ['h2conn3'],
                hasError: false
            },
            {
                id: 'h2-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Secure Data Warehouse',
                icon: '',
                description: 'HIPAA-compliant storage',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['h2conn3'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'h2conn1', source: 'h2-source', target: 'h2-derived', isValid: true },
            { id: 'h2conn2', source: 'h2-derived', target: 'h2-rowcount', isValid: true },
            { id: 'h2conn3', source: 'h2-rowcount', target: 'h2-dest', isValid: true }
        ]
    },
    {
        id: 'healthcare-medical-records',
        name: 'Medical Records Processing',
        description: 'Process and standardize medical records from multiple departments',
        difficulty: 'Intermediate',
        category: 'Healthcare',
        industry: 'Healthcare',
        useCase: 'Medical Records',
        tags: ['healthcare', 'medical-records', 'standardization'],
        components: [
            {
                id: 'h3-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Medical Records DB',
                icon: '',
                description: 'Source medical records',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['h3conn1'],
                hasError: false
            },
            {
                id: 'h3-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Standardize Formats',
                icon: '',
                description: 'Normalize date formats and codes',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['h3conn1'],
                outputs: ['h3conn2'],
                hasError: false
            },
            {
                id: 'h3-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Route by Department',
                icon: '',
                description: 'Split records by department',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['h3conn2'],
                outputs: ['h3conn3', 'h3conn4'],
                hasError: false
            },
            {
                id: 'h3-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Cardiology Records',
                icon: '',
                description: 'Cardiology department',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 150 },
                inputs: ['h3conn3'],
                outputs: [],
                hasError: false
            },
            {
                id: 'h3-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Other Departments',
                icon: '',
                description: 'Other medical departments',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 250 },
                inputs: ['h3conn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'h3conn1', source: 'h3-source', target: 'h3-derived', isValid: true },
            { id: 'h3conn2', source: 'h3-derived', target: 'h3-split', isValid: true },
            { id: 'h3conn3', source: 'h3-split', target: 'h3-dest1', isValid: true },
            { id: 'h3conn4', source: 'h3-split', target: 'h3-dest2', isValid: true }
        ]
    },
    {
        id: 'healthcare-lab-results',
        name: 'Lab Results Pipeline',
        description: 'Process laboratory test results with validation and alerting',
        difficulty: 'Intermediate',
        category: 'Healthcare',
        industry: 'Healthcare',
        useCase: 'Lab Results',
        tags: ['healthcare', 'lab', 'results', 'validation'],
        components: [
            {
                id: 'h4-source',
                type: 'source',
                category: 'FlatFileSource',
                name: 'Lab Results File',
                icon: '',
                description: 'CSV file from lab equipment',
                useCases: [],
                dataType: 'text',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['h4conn1'],
                hasError: false
            },
            {
                id: 'h4-conv',
                type: 'transformation',
                category: 'DataConversion',
                name: 'Convert Lab Data',
                icon: '',
                description: 'Convert text to structured format',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['h4conn1'],
                outputs: ['h4conn2'],
                hasError: false
            },
            {
                id: 'h4-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Check Critical Values',
                icon: '',
                description: 'Route critical vs normal results',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['h4conn2'],
                outputs: ['h4conn3', 'h4conn4'],
                hasError: false
            },
            {
                id: 'h4-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Critical Results DB',
                icon: '',
                description: 'Urgent results storage',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 150 },
                inputs: ['h4conn3'],
                outputs: [],
                hasError: false
            },
            {
                id: 'h4-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Normal Results DB',
                icon: '',
                description: 'Standard results storage',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 250 },
                inputs: ['h4conn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'h4conn1', source: 'h4-source', target: 'h4-conv', isValid: true },
            { id: 'h4conn2', source: 'h4-conv', target: 'h4-split', isValid: true },
            { id: 'h4conn3', source: 'h4-split', target: 'h4-dest1', isValid: true },
            { id: 'h4conn4', source: 'h4-split', target: 'h4-dest2', isValid: true }
        ]
    },
    {
        id: 'healthcare-claims',
        name: 'Claims Processing',
        description: 'Process insurance claims with validation and fraud detection patterns',
        difficulty: 'Advanced',
        category: 'Healthcare',
        industry: 'Healthcare',
        useCase: 'Claims Processing',
        tags: ['healthcare', 'claims', 'insurance', 'validation'],
        components: [
            {
                id: 'h5-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Claims Source',
                icon: '',
                description: 'Insurance claims database',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['h5conn1'],
                hasError: false
            },
            {
                id: 'h5-lookup',
                type: 'transformation',
                category: 'Lookup',
                name: 'Validate Provider',
                icon: '',
                description: 'Lookup provider information',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['h5conn1'],
                outputs: ['h5conn2'],
                hasError: false,
                referenceInput: 'provider-master'
            },
            {
                id: 'h5-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Fraud Detection',
                icon: '',
                description: 'Route suspicious claims',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['h5conn2'],
                outputs: ['h5conn3', 'h5conn4'],
                hasError: false
            },
            {
                id: 'h5-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Approved Claims',
                icon: '',
                description: 'Valid claims database',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 150 },
                inputs: ['h5conn3'],
                outputs: [],
                hasError: false
            },
            {
                id: 'h5-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Review Queue',
                icon: '',
                description: 'Suspicious claims for review',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 250 },
                inputs: ['h5conn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'h5conn1', source: 'h5-source', target: 'h5-lookup', isValid: true },
            { id: 'h5conn2', source: 'h5-lookup', target: 'h5-split', isValid: true },
            { id: 'h5conn3', source: 'h5-split', target: 'h5-dest1', isValid: true },
            { id: 'h5conn4', source: 'h5-split', target: 'h5-dest2', isValid: true }
        ]
    },
    // Finance Templates
    {
        id: 'finance-transaction-reconciliation',
        name: 'Transaction Reconciliation',
        description: 'Reconcile transactions between multiple systems with variance detection',
        difficulty: 'Advanced',
        category: 'Finance',
        industry: 'Finance',
        useCase: 'Reconciliation',
        tags: ['finance', 'reconciliation', 'transactions', 'validation'],
        components: [
            {
                id: 'f1-source1',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Bank Transactions',
                icon: '',
                description: 'Bank transaction system',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 150 },
                inputs: [],
                outputs: ['fconn1'],
                hasError: false
            },
            {
                id: 'f1-source2',
                type: 'source',
                category: 'OLEDBSource',
                name: 'ERP Transactions',
                icon: '',
                description: 'ERP system transactions',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 300 },
                inputs: [],
                outputs: ['fconn2'],
                hasError: false
            },
            {
                id: 'f1-sort1',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort Bank Data',
                icon: '',
                description: 'Sort by transaction ID',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 150 },
                inputs: ['fconn1'],
                outputs: ['fconn3'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'f1-sort2',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort ERP Data',
                icon: '',
                description: 'Sort by transaction ID',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 300 },
                inputs: ['fconn2'],
                outputs: ['fconn4'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'f1-merge',
                type: 'transformation',
                category: 'MergeJoin',
                name: 'Reconcile Transactions',
                icon: '',
                description: 'Match transactions from both systems',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 225 },
                inputs: ['fconn3', 'fconn4'],
                outputs: ['fconn5', 'fconn6'],
                hasError: false
            },
            {
                id: 'f1-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Matched Transactions',
                icon: '',
                description: 'Reconciled transactions',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['fconn5'],
                outputs: [],
                hasError: false
            },
            {
                id: 'f1-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Variance Report',
                icon: '',
                description: 'Unmatched transactions',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 300 },
                inputs: ['fconn6'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'fconn1', source: 'f1-source1', target: 'f1-sort1', isValid: true },
            { id: 'fconn2', source: 'f1-source2', target: 'f1-sort2', isValid: true },
            { id: 'fconn3', source: 'f1-sort1', target: 'f1-merge', isValid: true },
            { id: 'fconn4', source: 'f1-sort2', target: 'f1-merge', isValid: true },
            { id: 'fconn5', source: 'f1-merge', target: 'f1-dest1', isValid: true },
            { id: 'fconn6', source: 'f1-merge', target: 'f1-dest2', isValid: true }
        ]
    },
    {
        id: 'finance-regulatory-reporting',
        name: 'Regulatory Reporting',
        description: 'Generate regulatory reports with data validation and audit trail',
        difficulty: 'Advanced',
        category: 'Finance',
        industry: 'Finance',
        useCase: 'Regulatory Reporting',
        tags: ['finance', 'regulatory', 'reporting', 'compliance'],
        components: [
            {
                id: 'f2-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Financial Data',
                icon: '',
                description: 'Source financial transactions',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['f2conn1'],
                hasError: false
            },
            {
                id: 'f2-aggregate',
                type: 'transformation',
                category: 'Aggregate',
                name: 'Summarize by Period',
                icon: '',
                description: 'Group by reporting period',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['f2conn1'],
                outputs: ['f2conn2'],
                hasError: false
            },
            {
                id: 'f2-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Calculate Metrics',
                icon: '',
                description: 'Compute regulatory metrics',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['f2conn2'],
                outputs: ['f2conn3'],
                hasError: false
            },
            {
                id: 'f2-rowcount',
                type: 'transformation',
                category: 'RowCount',
                name: 'Audit Trail',
                icon: '',
                description: 'Track records in report',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['f2conn3'],
                outputs: ['f2conn4'],
                hasError: false
            },
            {
                id: 'f2-dest',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Regulatory Report',
                icon: '',
                description: 'Final regulatory report',
                useCases: [],
                dataType: 'mixed',
                position: { x: 1300, y: 200 },
                inputs: ['f2conn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'f2conn1', source: 'f2-source', target: 'f2-aggregate', isValid: true },
            { id: 'f2conn2', source: 'f2-aggregate', target: 'f2-derived', isValid: true },
            { id: 'f2conn3', source: 'f2-derived', target: 'f2-rowcount', isValid: true },
            { id: 'f2conn4', source: 'f2-rowcount', target: 'f2-dest', isValid: true }
        ]
    },
    {
        id: 'finance-risk-aggregation',
        name: 'Risk Data Aggregation',
        description: 'Aggregate risk data from multiple sources for risk management reporting',
        difficulty: 'Advanced',
        category: 'Finance',
        industry: 'Finance',
        useCase: 'Risk Management',
        tags: ['finance', 'risk', 'aggregation', 'management'],
        components: [
            {
                id: 'f3-source1',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Market Risk Data',
                icon: '',
                description: 'Market risk metrics',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 100 },
                inputs: [],
                outputs: ['f3conn1'],
                hasError: false
            },
            {
                id: 'f3-source2',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Credit Risk Data',
                icon: '',
                description: 'Credit risk metrics',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 250 },
                inputs: [],
                outputs: ['f3conn2'],
                hasError: false
            },
            {
                id: 'f3-source3',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Operational Risk Data',
                icon: '',
                description: 'Operational risk metrics',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 400 },
                inputs: [],
                outputs: ['f3conn3'],
                hasError: false
            },
            {
                id: 'f3-union',
                type: 'transformation',
                category: 'UnionAll',
                name: 'Combine Risk Data',
                icon: '',
                description: 'Unify all risk sources',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 250 },
                inputs: ['f3conn1', 'f3conn2', 'f3conn3'],
                outputs: ['f3conn4'],
                hasError: false
            },
            {
                id: 'f3-aggregate',
                type: 'transformation',
                category: 'Aggregate',
                name: 'Aggregate by Category',
                icon: '',
                description: 'Group risk by category',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 250 },
                inputs: ['f3conn4'],
                outputs: ['f3conn5'],
                hasError: false
            },
            {
                id: 'f3-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Risk Dashboard DB',
                icon: '',
                description: 'Consolidated risk data',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 250 },
                inputs: ['f3conn5'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'f3conn1', source: 'f3-source1', target: 'f3-union', isValid: true },
            { id: 'f3conn2', source: 'f3-source2', target: 'f3-union', isValid: true },
            { id: 'f3conn3', source: 'f3-source3', target: 'f3-union', isValid: true },
            { id: 'f3conn4', source: 'f3-union', target: 'f3-aggregate', isValid: true },
            { id: 'f3conn5', source: 'f3-aggregate', target: 'f3-dest', isValid: true }
        ]
    },
    {
        id: 'finance-financial-statements',
        name: 'Financial Statement Generation',
        description: 'Generate financial statements with multi-period calculations',
        difficulty: 'Advanced',
        category: 'Finance',
        industry: 'Finance',
        useCase: 'Financial Statements',
        tags: ['finance', 'statements', 'reporting', 'accounting'],
        components: [
            {
                id: 'f4-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'GL Transactions',
                icon: '',
                description: 'General ledger transactions',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['f4conn1'],
                hasError: false
            },
            {
                id: 'f4-sort',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort by Account',
                icon: '',
                description: 'Order by account code',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['f4conn1'],
                outputs: ['f4conn2'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'f4-aggregate',
                type: 'transformation',
                category: 'Aggregate',
                name: 'Sum by Account',
                icon: '',
                description: 'Calculate account balances',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['f4conn2'],
                outputs: ['f4conn3'],
                hasError: false
            },
            {
                id: 'f4-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Calculate Totals',
                icon: '',
                description: 'Compute statement totals',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['f4conn3'],
                outputs: ['f4conn4'],
                hasError: false
            },
            {
                id: 'f4-dest',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Financial Statements',
                icon: '',
                description: 'Income statement and balance sheet',
                useCases: [],
                dataType: 'mixed',
                position: { x: 1300, y: 200 },
                inputs: ['f4conn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'f4conn1', source: 'f4-source', target: 'f4-sort', isValid: true },
            { id: 'f4conn2', source: 'f4-sort', target: 'f4-aggregate', isValid: true },
            { id: 'f4conn3', source: 'f4-aggregate', target: 'f4-derived', isValid: true },
            { id: 'f4conn4', source: 'f4-derived', target: 'f4-dest', isValid: true }
        ]
    },
    {
        id: 'finance-audit-trail',
        name: 'Audit Trail Creation',
        description: 'Create comprehensive audit trail for financial transactions',
        difficulty: 'Intermediate',
        category: 'Finance',
        industry: 'Finance',
        useCase: 'Audit Trail',
        tags: ['finance', 'audit', 'compliance', 'tracking'],
        components: [
            {
                id: 'f5-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Transaction Source',
                icon: '',
                description: 'Financial transactions',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['f5conn1'],
                hasError: false
            },
            {
                id: 'f5-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Add Audit Fields',
                icon: '',
                description: 'Add timestamp and user info',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['f5conn1'],
                outputs: ['f5conn2'],
                hasError: false
            },
            {
                id: 'f5-rowcount',
                type: 'transformation',
                category: 'RowCount',
                name: 'Track Changes',
                icon: '',
                description: 'Count records processed',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['f5conn2'],
                outputs: ['f5conn3'],
                hasError: false
            },
            {
                id: 'f5-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Audit Log Table',
                icon: '',
                description: 'Immutable audit trail',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['f5conn3'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'f5conn1', source: 'f5-source', target: 'f5-derived', isValid: true },
            { id: 'f5conn2', source: 'f5-derived', target: 'f5-rowcount', isValid: true },
            { id: 'f5conn3', source: 'f5-rowcount', target: 'f5-dest', isValid: true }
        ]
    },
    // E-commerce Templates
    {
        id: 'ecommerce-order-processing',
        name: 'Order Processing Pipeline',
        description: 'Process e-commerce orders with inventory validation and fulfillment routing',
        difficulty: 'Intermediate',
        category: 'E-commerce',
        industry: 'E-commerce',
        useCase: 'Order Processing',
        tags: ['ecommerce', 'orders', 'inventory', 'fulfillment'],
        components: [
            {
                id: 'e1-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Order System',
                icon: '',
                description: 'E-commerce order database',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['econn1'],
                hasError: false
            },
            {
                id: 'e1-lookup',
                type: 'transformation',
                category: 'Lookup',
                name: 'Check Inventory',
                icon: '',
                description: 'Validate product availability',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['econn1'],
                outputs: ['econn2'],
                hasError: false,
                referenceInput: 'inventory-master'
            },
            {
                id: 'e1-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Route by Stock',
                icon: '',
                description: 'Split in-stock vs out-of-stock',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['econn2'],
                outputs: ['econn3', 'econn4'],
                hasError: false
            },
            {
                id: 'e1-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Fulfillment Queue',
                icon: '',
                description: 'Orders ready to ship',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 150 },
                inputs: ['econn3'],
                outputs: [],
                hasError: false
            },
            {
                id: 'e1-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Backorder Queue',
                icon: '',
                description: 'Out of stock orders',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 250 },
                inputs: ['econn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'econn1', source: 'e1-source', target: 'e1-lookup', isValid: true },
            { id: 'econn2', source: 'e1-lookup', target: 'e1-split', isValid: true },
            { id: 'econn3', source: 'e1-split', target: 'e1-dest1', isValid: true },
            { id: 'econn4', source: 'e1-split', target: 'e1-dest2', isValid: true }
        ]
    },
    {
        id: 'ecommerce-inventory-management',
        name: 'Inventory Management',
        description: 'Manage inventory levels with reorder point calculations and alerts',
        difficulty: 'Intermediate',
        category: 'E-commerce',
        industry: 'E-commerce',
        useCase: 'Inventory Management',
        tags: ['ecommerce', 'inventory', 'stock', 'management'],
        components: [
            {
                id: 'e2-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Current Inventory',
                icon: '',
                description: 'Current stock levels',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['e2conn1'],
                hasError: false
            },
            {
                id: 'e2-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Calculate Reorder',
                icon: '',
                description: 'Compute reorder quantities',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['e2conn1'],
                outputs: ['e2conn2'],
                hasError: false
            },
            {
                id: 'e2-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Check Reorder Point',
                icon: '',
                description: 'Route low stock items',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['e2conn2'],
                outputs: ['e2conn3', 'e2conn4'],
                hasError: false
            },
            {
                id: 'e2-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Reorder Alerts',
                icon: '',
                description: 'Items needing reorder',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 150 },
                inputs: ['e2conn3'],
                outputs: [],
                hasError: false
            },
            {
                id: 'e2-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Updated Inventory',
                icon: '',
                description: 'Current inventory levels',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 250 },
                inputs: ['e2conn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'e2conn1', source: 'e2-source', target: 'e2-derived', isValid: true },
            { id: 'e2conn2', source: 'e2-derived', target: 'e2-split', isValid: true },
            { id: 'e2conn3', source: 'e2-split', target: 'e2-dest1', isValid: true },
            { id: 'e2conn4', source: 'e2-split', target: 'e2-dest2', isValid: true }
        ]
    },
    {
        id: 'ecommerce-customer-segmentation',
        name: 'Customer Segmentation',
        description: 'Segment customers by purchase behavior for targeted marketing',
        difficulty: 'Advanced',
        category: 'E-commerce',
        industry: 'E-commerce',
        useCase: 'Customer Segmentation',
        tags: ['ecommerce', 'customers', 'segmentation', 'analytics'],
        components: [
            {
                id: 'e3-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Customer Orders',
                icon: '',
                description: 'Customer purchase history',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['e3conn1'],
                hasError: false
            },
            {
                id: 'e3-aggregate',
                type: 'transformation',
                category: 'Aggregate',
                name: 'Calculate Metrics',
                icon: '',
                description: 'Total spend, order count per customer',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['e3conn1'],
                outputs: ['e3conn2'],
                hasError: false
            },
            {
                id: 'e3-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Assign Segments',
                icon: '',
                description: 'Calculate segment scores',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['e3conn2'],
                outputs: ['e3conn3'],
                hasError: false
            },
            {
                id: 'e3-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Route by Segment',
                icon: '',
                description: 'Split into VIP, Regular, New',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['e3conn3'],
                outputs: ['e3conn4', 'e3conn5', 'e3conn6'],
                hasError: false
            },
            {
                id: 'e3-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'VIP Customers',
                icon: '',
                description: 'High-value segment',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 100 },
                inputs: ['e3conn4'],
                outputs: [],
                hasError: false
            },
            {
                id: 'e3-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Regular Customers',
                icon: '',
                description: 'Standard segment',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 200 },
                inputs: ['e3conn5'],
                outputs: [],
                hasError: false
            },
            {
                id: 'e3-dest3',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'New Customers',
                icon: '',
                description: 'New customer segment',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 300 },
                inputs: ['e3conn6'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'e3conn1', source: 'e3-source', target: 'e3-aggregate', isValid: true },
            { id: 'e3conn2', source: 'e3-aggregate', target: 'e3-derived', isValid: true },
            { id: 'e3conn3', source: 'e3-derived', target: 'e3-split', isValid: true },
            { id: 'e3conn4', source: 'e3-split', target: 'e3-dest1', isValid: true },
            { id: 'e3conn5', source: 'e3-split', target: 'e3-dest2', isValid: true },
            { id: 'e3conn6', source: 'e3-split', target: 'e3-dest3', isValid: true }
        ]
    },
    {
        id: 'ecommerce-sales-analytics',
        name: 'Sales Analytics',
        description: 'Analyze sales data with time-based aggregations and trend calculations',
        difficulty: 'Advanced',
        category: 'E-commerce',
        industry: 'E-commerce',
        useCase: 'Sales Analytics',
        tags: ['ecommerce', 'sales', 'analytics', 'reporting'],
        components: [
            {
                id: 'e4-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Sales Transactions',
                icon: '',
                description: 'Daily sales data',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['e4conn1'],
                hasError: false
            },
            {
                id: 'e4-sort',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort by Date',
                icon: '',
                description: 'Order by transaction date',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['e4conn1'],
                outputs: ['e4conn2'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'e4-aggregate',
                type: 'transformation',
                category: 'Aggregate',
                name: 'Daily Totals',
                icon: '',
                description: 'Sum sales by day',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['e4conn2'],
                outputs: ['e4conn3'],
                hasError: false
            },
            {
                id: 'e4-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Calculate Trends',
                icon: '',
                description: 'Compute growth rates',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['e4conn3'],
                outputs: ['e4conn4'],
                hasError: false
            },
            {
                id: 'e4-dest',
                type: 'destination',
                category: 'ExcelDestination',
                name: 'Sales Dashboard',
                icon: '',
                description: 'Analytics report',
                useCases: [],
                dataType: 'mixed',
                position: { x: 1300, y: 200 },
                inputs: ['e4conn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'e4conn1', source: 'e4-source', target: 'e4-sort', isValid: true },
            { id: 'e4conn2', source: 'e4-sort', target: 'e4-aggregate', isValid: true },
            { id: 'e4conn3', source: 'e4-aggregate', target: 'e4-derived', isValid: true },
            { id: 'e4conn4', source: 'e4-derived', target: 'e4-dest', isValid: true }
        ]
    },
    {
        id: 'ecommerce-product-catalog-sync',
        name: 'Product Catalog Sync',
        description: 'Synchronize product catalog from multiple sources with deduplication',
        difficulty: 'Intermediate',
        category: 'E-commerce',
        industry: 'E-commerce',
        useCase: 'Catalog Sync',
        tags: ['ecommerce', 'products', 'catalog', 'sync'],
        components: [
            {
                id: 'e5-source1',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Main Catalog',
                icon: '',
                description: 'Primary product database',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 150 },
                inputs: [],
                outputs: ['e5conn1'],
                hasError: false
            },
            {
                id: 'e5-source2',
                type: 'source',
                category: 'FlatFileSource',
                name: 'Supplier Catalog',
                icon: '',
                description: 'CSV from supplier',
                useCases: [],
                dataType: 'text',
                position: { x: 100, y: 300 },
                inputs: [],
                outputs: ['e5conn2'],
                hasError: false
            },
            {
                id: 'e5-conv',
                type: 'transformation',
                category: 'DataConversion',
                name: 'Convert Supplier Data',
                icon: '',
                description: 'Convert text to structured',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 300 },
                inputs: ['e5conn2'],
                outputs: ['e5conn3'],
                hasError: false
            },
            {
                id: 'e5-union',
                type: 'transformation',
                category: 'UnionAll',
                name: 'Merge Catalogs',
                icon: '',
                description: 'Combine product sources',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 225 },
                inputs: ['e5conn1', 'e5conn3'],
                outputs: ['e5conn4'],
                hasError: false
            },
            {
                id: 'e5-sort',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort by SKU',
                icon: '',
                description: 'Order for deduplication',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 225 },
                inputs: ['e5conn4'],
                outputs: ['e5conn5'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'e5-aggregate',
                type: 'transformation',
                category: 'Aggregate',
                name: 'Deduplicate',
                icon: '',
                description: 'Keep latest product info',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 225 },
                inputs: ['e5conn5'],
                outputs: ['e5conn6'],
                hasError: false
            },
            {
                id: 'e5-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Unified Catalog',
                icon: '',
                description: 'Synchronized product catalog',
                useCases: [],
                dataType: 'structured',
                position: { x: 1600, y: 225 },
                inputs: ['e5conn6'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'e5conn1', source: 'e5-source1', target: 'e5-union', isValid: true },
            { id: 'e5conn2', source: 'e5-source2', target: 'e5-conv', isValid: true },
            { id: 'e5conn3', source: 'e5-conv', target: 'e5-union', isValid: true },
            { id: 'e5conn4', source: 'e5-union', target: 'e5-sort', isValid: true },
            { id: 'e5conn5', source: 'e5-sort', target: 'e5-aggregate', isValid: true },
            { id: 'e5conn6', source: 'e5-aggregate', target: 'e5-dest', isValid: true }
        ]
    },
    // Advanced Patterns Templates
    {
        id: 'advanced-cdc',
        name: 'CDC (Change Data Capture)',
        description: 'Capture only changed records using timestamp comparison for incremental loads',
        difficulty: 'Advanced',
        category: 'Advanced Patterns',
        industry: 'General',
        useCase: 'Change Data Capture',
        tags: ['cdc', 'incremental', 'change-detection', 'performance'],
        components: [
            {
                id: 'a1-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Source Table',
                icon: '',
                description: 'Source with LastModified timestamp',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['aconn1'],
                hasError: false
            },
            {
                id: 'a1-lookup',
                type: 'transformation',
                category: 'Lookup',
                name: 'Check Last Load',
                icon: '',
                description: 'Lookup last processed timestamp',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['aconn1'],
                outputs: ['aconn2'],
                hasError: false,
                referenceInput: 'last-load-time'
            },
            {
                id: 'a1-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Filter Changes',
                icon: '',
                description: 'Route only changed records',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['aconn2'],
                outputs: ['aconn3', 'aconn4'],
                hasError: false
            },
            {
                id: 'a1-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Changed Records',
                icon: '',
                description: 'Only new/modified data',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 150 },
                inputs: ['aconn3'],
                outputs: [],
                hasError: false
            },
            {
                id: 'a1-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Update Timestamp',
                icon: '',
                description: 'Update last load time',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 250 },
                inputs: ['aconn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'aconn1', source: 'a1-source', target: 'a1-lookup', isValid: true },
            { id: 'aconn2', source: 'a1-lookup', target: 'a1-split', isValid: true },
            { id: 'aconn3', source: 'a1-split', target: 'a1-dest1', isValid: true },
            { id: 'aconn4', source: 'a1-split', target: 'a1-dest2', isValid: true }
        ]
    },
    {
        id: 'advanced-scd-type3',
        name: 'SCD Type 3 (Current + Previous)',
        description: 'Slowly Changing Dimension Type 3 - Store current and previous values',
        difficulty: 'Advanced',
        category: 'Advanced Patterns',
        industry: 'General',
        useCase: 'SCD Type 3',
        tags: ['scd', 'dimension', 'data-warehouse', 'advanced'],
        components: [
            {
                id: 'a2-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Dimension Updates',
                icon: '',
                description: 'Updated dimension records',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['a2conn1'],
                hasError: false
            },
            {
                id: 'a2-lookup',
                type: 'transformation',
                category: 'Lookup',
                name: 'Get Current Values',
                icon: '',
                description: 'Lookup existing dimension',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['a2conn1'],
                outputs: ['a2conn2'],
                hasError: false,
                referenceInput: 'dimension-table'
            },
            {
                id: 'a2-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Move to Previous',
                icon: '',
                description: 'Copy current to previous fields',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['a2conn2'],
                outputs: ['a2conn3'],
                hasError: false
            },
            {
                id: 'a2-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Dimension Table',
                icon: '',
                description: 'Updated with current and previous',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['a2conn3'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'a2conn1', source: 'a2-source', target: 'a2-lookup', isValid: true },
            { id: 'a2conn2', source: 'a2-lookup', target: 'a2-derived', isValid: true },
            { id: 'a2conn3', source: 'a2-derived', target: 'a2-dest', isValid: true }
        ]
    },
    {
        id: 'advanced-data-vault',
        name: 'Data Vault Modeling',
        description: 'Load Hub, Link, and Satellite tables for Data Vault architecture',
        difficulty: 'Advanced',
        category: 'Advanced Patterns',
        industry: 'General',
        useCase: 'Data Vault',
        tags: ['data-vault', 'modeling', 'hub', 'satellite', 'link'],
        components: [
            {
                id: 'a3-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Source Data',
                icon: '',
                description: 'Transactional source',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['a3conn1'],
                hasError: false
            },
            {
                id: 'a3-multicast',
                type: 'transformation',
                category: 'Multicast',
                name: 'Broadcast Data',
                icon: '',
                description: 'Send to multiple destinations',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['a3conn1'],
                outputs: ['a3conn2', 'a3conn3', 'a3conn4'],
                hasError: false
            },
            {
                id: 'a3-derived1',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Prepare Hub Keys',
                icon: '',
                description: 'Generate business keys',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 100 },
                inputs: ['a3conn2'],
                outputs: ['a3conn5'],
                hasError: false
            },
            {
                id: 'a3-derived2',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Prepare Link Keys',
                icon: '',
                description: 'Generate relationship keys',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['a3conn3'],
                outputs: ['a3conn6'],
                hasError: false
            },
            {
                id: 'a3-derived3',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Prepare Satellite',
                icon: '',
                description: 'Prepare descriptive attributes',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 300 },
                inputs: ['a3conn4'],
                outputs: ['a3conn7'],
                hasError: false
            },
            {
                id: 'a3-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Hub Table',
                icon: '',
                description: 'Business keys',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 100 },
                inputs: ['a3conn5'],
                outputs: [],
                hasError: false
            },
            {
                id: 'a3-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Link Table',
                icon: '',
                description: 'Relationships',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['a3conn6'],
                outputs: [],
                hasError: false
            },
            {
                id: 'a3-dest3',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Satellite Table',
                icon: '',
                description: 'Descriptive attributes',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 300 },
                inputs: ['a3conn7'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'a3conn1', source: 'a3-source', target: 'a3-multicast', isValid: true },
            { id: 'a3conn2', source: 'a3-multicast', target: 'a3-derived1', isValid: true },
            { id: 'a3conn3', source: 'a3-multicast', target: 'a3-derived2', isValid: true },
            { id: 'a3conn4', source: 'a3-multicast', target: 'a3-derived3', isValid: true },
            { id: 'a3conn5', source: 'a3-derived1', target: 'a3-dest1', isValid: true },
            { id: 'a3conn6', source: 'a3-derived2', target: 'a3-dest2', isValid: true },
            { id: 'a3conn7', source: 'a3-derived3', target: 'a3-dest3', isValid: true }
        ]
    },
    {
        id: 'advanced-star-schema',
        name: 'Star Schema Loading',
        description: 'Load fact and dimension tables for star schema data warehouse',
        difficulty: 'Advanced',
        category: 'Advanced Patterns',
        industry: 'General',
        useCase: 'Star Schema',
        tags: ['star-schema', 'data-warehouse', 'fact', 'dimension'],
        components: [
            {
                id: 'a4-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Transaction Source',
                icon: '',
                description: 'Source transaction data',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['a4conn1'],
                hasError: false
            },
            {
                id: 'a4-lookup1',
                type: 'transformation',
                category: 'Lookup',
                name: 'Lookup Customer Dim',
                icon: '',
                description: 'Get customer dimension key',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 150 },
                inputs: ['a4conn1'],
                outputs: ['a4conn2'],
                hasError: false,
                referenceInput: 'customer-dimension'
            },
            {
                id: 'a4-lookup2',
                type: 'transformation',
                category: 'Lookup',
                name: 'Lookup Product Dim',
                icon: '',
                description: 'Get product dimension key',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 250 },
                inputs: ['a4conn2'],
                outputs: ['a4conn3'],
                hasError: false,
                referenceInput: 'product-dimension'
            },
            {
                id: 'a4-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Calculate Measures',
                icon: '',
                description: 'Compute fact table measures',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['a4conn3'],
                outputs: ['a4conn4'],
                hasError: false
            },
            {
                id: 'a4-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Fact Table',
                icon: '',
                description: 'Sales fact table',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['a4conn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'a4conn1', source: 'a4-source', target: 'a4-lookup1', isValid: true },
            { id: 'a4conn2', source: 'a4-lookup1', target: 'a4-lookup2', isValid: true },
            { id: 'a4conn3', source: 'a4-lookup2', target: 'a4-derived', isValid: true },
            { id: 'a4conn4', source: 'a4-derived', target: 'a4-dest', isValid: true }
        ]
    },
    {
        id: 'advanced-fact-incremental',
        name: 'Fact Table Incremental Load',
        description: 'Incremental load pattern for fact tables using date range filtering',
        difficulty: 'Advanced',
        category: 'Advanced Patterns',
        industry: 'General',
        useCase: 'Incremental Load',
        tags: ['fact-table', 'incremental', 'performance', 'date-filtering'],
        components: [
            {
                id: 'a5-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Source Transactions',
                icon: '',
                description: 'Filtered by date range',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['a5conn1'],
                hasError: false
            },
            {
                id: 'a5-lookup',
                type: 'transformation',
                category: 'Lookup',
                name: 'Check Existing',
                icon: '',
                description: 'Verify not already loaded',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['a5conn1'],
                outputs: ['a5conn2'],
                hasError: false,
                referenceInput: 'fact-table'
            },
            {
                id: 'a5-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Filter New Records',
                icon: '',
                description: 'Route only new facts',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['a5conn2'],
                outputs: ['a5conn3', 'a5conn4'],
                hasError: false
            },
            {
                id: 'a5-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Fact Table',
                icon: '',
                description: 'Append new facts',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 150 },
                inputs: ['a5conn3'],
                outputs: [],
                hasError: false
            },
            {
                id: 'a5-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Load Log',
                icon: '',
                description: 'Track loaded records',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 250 },
                inputs: ['a5conn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'a5conn1', source: 'a5-source', target: 'a5-lookup', isValid: true },
            { id: 'a5conn2', source: 'a5-lookup', target: 'a5-split', isValid: true },
            { id: 'a5conn3', source: 'a5-split', target: 'a5-dest1', isValid: true },
            { id: 'a5conn4', source: 'a5-split', target: 'a5-dest2', isValid: true }
        ]
    },
    {
        id: 'advanced-dimension-updates',
        name: 'Dimension Table Updates',
        description: 'Update dimension tables with SCD Type 2 pattern (historical tracking)',
        difficulty: 'Advanced',
        category: 'Advanced Patterns',
        industry: 'General',
        useCase: 'Dimension Updates',
        tags: ['dimension', 'scd-type2', 'updates', 'historical'],
        components: [
            {
                id: 'a6-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Dimension Updates',
                icon: '',
                description: 'Updated dimension records',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['a6conn1'],
                hasError: false
            },
            {
                id: 'a6-lookup',
                type: 'transformation',
                category: 'Lookup',
                name: 'Check Current Dim',
                icon: '',
                description: 'Lookup existing dimension',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['a6conn1'],
                outputs: ['a6conn2'],
                hasError: false,
                referenceInput: 'dimension-table'
            },
            {
                id: 'a6-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Route Changes',
                icon: '',
                description: 'Split changed vs unchanged',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['a6conn2'],
                outputs: ['a6conn3', 'a6conn4'],
                hasError: false
            },
            {
                id: 'a6-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Set Effective Dates',
                icon: '',
                description: 'Add SCD Type 2 dates',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 150 },
                inputs: ['a6conn3'],
                outputs: ['a6conn5'],
                hasError: false
            },
            {
                id: 'a6-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'New Dimension Row',
                icon: '',
                description: 'Insert new version',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 150 },
                inputs: ['a6conn5'],
                outputs: [],
                hasError: false
            },
            {
                id: 'a6-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Update End Date',
                icon: '',
                description: 'Close previous version',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 250 },
                inputs: ['a6conn4'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'a6conn1', source: 'a6-source', target: 'a6-lookup', isValid: true },
            { id: 'a6conn2', source: 'a6-lookup', target: 'a6-split', isValid: true },
            { id: 'a6conn3', source: 'a6-split', target: 'a6-derived', isValid: true },
            { id: 'a6conn4', source: 'a6-split', target: 'a6-dest2', isValid: true },
            { id: 'a6conn5', source: 'a6-derived', target: 'a6-dest1', isValid: true }
        ]
    },
    {
        id: 'advanced-data-quality',
        name: 'Data Quality Framework',
        description: 'Comprehensive data quality checks with validation and error routing',
        difficulty: 'Advanced',
        category: 'Advanced Patterns',
        industry: 'General',
        useCase: 'Data Quality',
        tags: ['data-quality', 'validation', 'error-handling', 'framework'],
        components: [
            {
                id: 'a7-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Source Data',
                icon: '',
                description: 'Data to validate',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['a7conn1'],
                hasError: false
            },
            {
                id: 'a7-derived1',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Check Completeness',
                icon: '',
                description: 'Validate required fields',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 150 },
                inputs: ['a7conn1'],
                outputs: ['a7conn2'],
                hasError: false
            },
            {
                id: 'a7-derived2',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Check Format',
                icon: '',
                description: 'Validate data formats',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 250 },
                inputs: ['a7conn2'],
                outputs: ['a7conn3'],
                hasError: false
            },
            {
                id: 'a7-split',
                type: 'transformation',
                category: 'ConditionalSplit',
                name: 'Route by Quality',
                icon: '',
                description: 'Split valid vs invalid',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['a7conn3'],
                outputs: ['a7conn4', 'a7conn5'],
                hasError: false
            },
            {
                id: 'a7-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Valid Data',
                icon: '',
                description: 'Quality-approved data',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 150 },
                inputs: ['a7conn4'],
                outputs: [],
                hasError: false
            },
            {
                id: 'a7-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Error Log',
                icon: '',
                description: 'Data quality errors',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 250 },
                inputs: ['a7conn5'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'a7conn1', source: 'a7-source', target: 'a7-derived1', isValid: true },
            { id: 'a7conn2', source: 'a7-derived1', target: 'a7-derived2', isValid: true },
            { id: 'a7conn3', source: 'a7-derived2', target: 'a7-split', isValid: true },
            { id: 'a7conn4', source: 'a7-split', target: 'a7-dest1', isValid: true },
            { id: 'a7conn5', source: 'a7-split', target: 'a7-dest2', isValid: true }
        ]
    },
    {
        id: 'advanced-master-data',
        name: 'Master Data Management',
        description: 'Consolidate and deduplicate master data from multiple sources',
        difficulty: 'Advanced',
        category: 'Advanced Patterns',
        industry: 'General',
        useCase: 'Master Data',
        tags: ['master-data', 'mdm', 'deduplication', 'consolidation'],
        components: [
            {
                id: 'a8-source1',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Source System 1',
                icon: '',
                description: 'First master data source',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 150 },
                inputs: [],
                outputs: ['a8conn1'],
                hasError: false
            },
            {
                id: 'a8-source2',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Source System 2',
                icon: '',
                description: 'Second master data source',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 300 },
                inputs: [],
                outputs: ['a8conn2'],
                hasError: false
            },
            {
                id: 'a8-union',
                type: 'transformation',
                category: 'UnionAll',
                name: 'Combine Sources',
                icon: '',
                description: 'Merge all master data',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 225 },
                inputs: ['a8conn1', 'a8conn2'],
                outputs: ['a8conn3'],
                hasError: false
            },
            {
                id: 'a8-sort',
                type: 'transformation',
                category: 'Sort',
                name: 'Sort by Key',
                icon: '',
                description: 'Order for deduplication',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 225 },
                inputs: ['a8conn3'],
                outputs: ['a8conn4'],
                hasError: false,
                isSorted: true
            },
            {
                id: 'a8-aggregate',
                type: 'transformation',
                category: 'Aggregate',
                name: 'Deduplicate',
                icon: '',
                description: 'Keep best record per key',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 225 },
                inputs: ['a8conn4'],
                outputs: ['a8conn5'],
                hasError: false
            },
            {
                id: 'a8-dest',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Master Data Hub',
                icon: '',
                description: 'Consolidated master data',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 225 },
                inputs: ['a8conn5'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'a8conn1', source: 'a8-source1', target: 'a8-union', isValid: true },
            { id: 'a8conn2', source: 'a8-source2', target: 'a8-union', isValid: true },
            { id: 'a8conn3', source: 'a8-union', target: 'a8-sort', isValid: true },
            { id: 'a8conn4', source: 'a8-sort', target: 'a8-aggregate', isValid: true },
            { id: 'a8conn5', source: 'a8-aggregate', target: 'a8-dest', isValid: true }
        ]
    },
    {
        id: 'advanced-data-lineage',
        name: 'Data Lineage Tracking',
        description: 'Track data lineage with metadata capture at each transformation step',
        difficulty: 'Advanced',
        category: 'Advanced Patterns',
        industry: 'General',
        useCase: 'Data Lineage',
        tags: ['lineage', 'metadata', 'tracking', 'governance'],
        components: [
            {
                id: 'a9-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Source Data',
                icon: '',
                description: 'Source with lineage metadata',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['a9conn1'],
                hasError: false
            },
            {
                id: 'a9-derived1',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Add Step Metadata',
                icon: '',
                description: 'Capture transformation step',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 150 },
                inputs: ['a9conn1'],
                outputs: ['a9conn2'],
                hasError: false
            },
            {
                id: 'a9-derived2',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Add Timestamp',
                icon: '',
                description: 'Record processing time',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 250 },
                inputs: ['a9conn2'],
                outputs: ['a9conn3'],
                hasError: false
            },
            {
                id: 'a9-multicast',
                type: 'transformation',
                category: 'Multicast',
                name: 'Split Data and Metadata',
                icon: '',
                description: 'Separate data and lineage',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['a9conn3'],
                outputs: ['a9conn4', 'a9conn5'],
                hasError: false
            },
            {
                id: 'a9-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Target Data',
                icon: '',
                description: 'Transformed data',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 150 },
                inputs: ['a9conn4'],
                outputs: [],
                hasError: false
            },
            {
                id: 'a9-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Lineage Metadata',
                icon: '',
                description: 'Lineage tracking table',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 250 },
                inputs: ['a9conn5'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'a9conn1', source: 'a9-source', target: 'a9-derived1', isValid: true },
            { id: 'a9conn2', source: 'a9-derived1', target: 'a9-derived2', isValid: true },
            { id: 'a9conn3', source: 'a9-derived2', target: 'a9-multicast', isValid: true },
            { id: 'a9conn4', source: 'a9-multicast', target: 'a9-dest1', isValid: true },
            { id: 'a9conn5', source: 'a9-multicast', target: 'a9-dest2', isValid: true }
        ]
    },
    {
        id: 'advanced-metadata-management',
        name: 'Metadata Management',
        description: 'Capture and store metadata about data transformations and pipeline execution',
        difficulty: 'Advanced',
        category: 'Advanced Patterns',
        industry: 'General',
        useCase: 'Metadata Management',
        tags: ['metadata', 'governance', 'tracking', 'documentation'],
        components: [
            {
                id: 'a10-source',
                type: 'source',
                category: 'OLEDBSource',
                name: 'Data Source',
                icon: '',
                description: 'Source data',
                useCases: [],
                dataType: 'structured',
                position: { x: 100, y: 200 },
                inputs: [],
                outputs: ['a10conn1'],
                hasError: false
            },
            {
                id: 'a10-rowcount',
                type: 'transformation',
                category: 'RowCount',
                name: 'Count Records',
                icon: '',
                description: 'Track record count',
                useCases: [],
                dataType: 'structured',
                position: { x: 400, y: 200 },
                inputs: ['a10conn1'],
                outputs: ['a10conn2'],
                hasError: false
            },
            {
                id: 'a10-derived',
                type: 'transformation',
                category: 'DerivedColumn',
                name: 'Add Metadata',
                icon: '',
                description: 'Add pipeline metadata',
                useCases: [],
                dataType: 'structured',
                position: { x: 700, y: 200 },
                inputs: ['a10conn2'],
                outputs: ['a10conn3'],
                hasError: false
            },
            {
                id: 'a10-multicast',
                type: 'transformation',
                category: 'Multicast',
                name: 'Split Data and Metadata',
                icon: '',
                description: 'Separate data and metadata',
                useCases: [],
                dataType: 'structured',
                position: { x: 1000, y: 200 },
                inputs: ['a10conn3'],
                outputs: ['a10conn4', 'a10conn5'],
                hasError: false
            },
            {
                id: 'a10-dest1',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Target Data',
                icon: '',
                description: 'Processed data',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 150 },
                inputs: ['a10conn4'],
                outputs: [],
                hasError: false
            },
            {
                id: 'a10-dest2',
                type: 'destination',
                category: 'OLEDBDestination',
                name: 'Metadata Repository',
                icon: '',
                description: 'Metadata storage',
                useCases: [],
                dataType: 'structured',
                position: { x: 1300, y: 250 },
                inputs: ['a10conn5'],
                outputs: [],
                hasError: false
            }
        ],
        connections: [
            { id: 'a10conn1', source: 'a10-source', target: 'a10-rowcount', isValid: true },
            { id: 'a10conn2', source: 'a10-rowcount', target: 'a10-derived', isValid: true },
            { id: 'a10conn3', source: 'a10-derived', target: 'a10-multicast', isValid: true },
            { id: 'a10conn4', source: 'a10-multicast', target: 'a10-dest1', isValid: true },
            { id: 'a10conn5', source: 'a10-multicast', target: 'a10-dest2', isValid: true }
        ]
    }
];
